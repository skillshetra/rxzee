{% extends 'author/components/index.html' %}
{% block content %}
<style>#akjsbkbwe>div{display: flex; flex-direction: column; gap: 10px;} #akjsbkbwe>div>label{font-weight: bold; font-size: 1.25rem;}</style>
<form method="post" enctype="multipart/form-data" class="flex flex-col w-full bg-gray-100 gap-2 rounded text-gray-800 select-none">
{% csrf_token %}
<div class="flex justify-between items-center p-4 border-b border-gray-400 rounded">
    <h3 class="sm:text-lg md:text-xl font-bold text-emerald-600 whitespace-nowrap">{{ title }}</h3>
    <button type="submit" class="flex items-center font-bold border border-gray-500 hover:border-gray-900 transition duration-300 gap-2 px-4 py-1 rounded"><svg class="w-4 h-4" viewBox="0 0 448 512"><path d="M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-242.7c0-17-6.7-33.3-18.7-45.3L352 50.7C340 38.7 323.7 32 306.7 32L64 32zm0 96c0-17.7 14.3-32 32-32l192 0c17.7 0 32 14.3 32 32l0 64c0 17.7-14.3 32-32 32L96 224c-17.7 0-32-14.3-32-32l0-64zM224 288a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"/></svg>Save</button>
</div>
{% if normal_details.status %}<div class="p-2 {% if normal_details.status == 'pending' %} font-semibold {% elif normal_details.status == 'disapproved' %} font-semibold text-[#ff0000] {% elif normal_details.status == 'approved' %} font-bold text-emerald-700 {% endif %}">Status: {{ normal_details.status }}</div>{% endif %}
{% if error %}<p class="w-full text-[#ff0000] bg-red-200 p-4 rounded">{{ error }}</p>{% endif %}
<div class="p-2">
<h3 class="class bg-gray-200 text-lg text-emerald-600 xl:text-xl 2xl:text-2xl font-bold mb-2 p-2 rounded-lg">Basic Drugs Details</h3>
<div class="grid md:grid-cols-2 gap-4 md:gap-2 p-2">
    <div class="flex w-full flex-col sm:items-center sm:flex-row gap-2">
        <label for="name" class="font-bold text-sm max-w-28 min-w-28">Name</label>
        <input type="text" id="name" name="name" placeholder="name" value="{{ normal_details.name }}" class="w-full border border-gray-200 focus:border-green-600 outline-none py-1 px-2 rounded transition duration-300" required />
    </div>
    <div class="flex w-full flex-col sm:items-center sm:flex-row gap-2">
        <label for="pronunciation" class="font-bold text-sm max-w-28 min-w-28">Pronunciation</label>
        <input type="text" id="pronunciation" name="pronunciation" placeholder="pronunciation" value="{{ normal_details.pronunciation }}" class="w-full border border-gray-200 focus:border-green-600 outline-none py-1 px-2 rounded transition duration-300" />
    </div>
    <div class="flex w-full flex-col sm:items-center sm:flex-row gap-2">
        <label for="generic_name" class="font-bold text-sm max-w-28 min-w-28">Generic Name</label>
        <input type="text" id="generic_name" name="generic_name" placeholder="generic name" value="{{ normal_details.generic_name }}" class="w-full border border-gray-200 focus:border-green-600 outline-none py-1 px-2 rounded transition duration-300" />
    </div>
    <div class="flex w-full flex-col sm:items-center sm:flex-row gap-2">
        <label for="brand_name" class="font-bold text-sm max-w-28 min-w-28">Brand Name</label>
        <input type="text" id="brand_name" name="brand_name" placeholder="brand name" value="{{ normal_details.brand_name }}" class="w-full border border-gray-200 focus:border-green-600 outline-none py-1 px-2 rounded transition duration-300" />
    </div>
    <div class="flex w-full flex-col sm:items-center sm:flex-row gap-2">
        <label for="class_name" class="font-bold text-sm max-w-28 min-w-28">Class Name</label>
        <input type="text" id="class_name" name="class_name" placeholder="class name" value="{{ normal_details.class_name }}" class="w-full border border-gray-200 focus:border-green-600 outline-none py-1 px-2 rounded transition duration-300" />
    </div>
    <div class="flex w-full flex-col sm:items-center sm:flex-row gap-2">
        <label for="dosage_forms" class="font-bold text-sm max-w-28 min-w-28">Dosage Forms</label>
        <input type="text" id="dosage_forms" name="dosage_forms" placeholder="dosage forms" value="{{ normal_details.dosage_forms }}" class="w-full border border-gray-200 focus:border-green-600 outline-none py-1 px-2 rounded transition duration-300" />
    </div>
    <div class="flex w-full flex-col sm:items-center sm:flex-row gap-2">
        <label for="availability" class="font-bold text-sm max-w-28 min-w-28">Availability</label>
        <input type="text" id="availability" name="availability" placeholder="availability" value="{{ normal_details.availability }}" class="w-full border border-gray-200 focus:border-green-600 outline-none py-1 px-2 rounded transition duration-300" />
    </div>
    <div class="flex w-full flex-col sm:items-center sm:flex-row gap-5">
        <b class="font-bold whitespace-nowrap">Select Widgets:</b>
        <div class="flex gap-2 text-sm">
            <div><input type="checkbox" name="widget1" id="widget1" {% if 'widget1' in widgets %}checked{% endif %} /> <label for="widget1">Widget 1</label></div>
            <div><input type="checkbox" name="widget2" id="widget2" {% if 'widget2' in widgets %}checked{% endif %} /> <label for="widget2">Widget 2</label></div>
            <div><input type="checkbox" name="widget3" id="widget3" {% if 'widget3' in widgets %}checked{% endif %} /> <label for="widget3">Widget 3</label></div>
        </div>
    </div>
</div>
</div>
<div class="p-2"><h3 class="class bg-gray-200 text-lg text-emerald-600 xl:text-xl 2xl:text-2xl font-bold mb-2 p-2 rounded-lg">Drugs Content</h3><div id="akjsbkbwe" class="grid xl:grid-cols-2 gap-4 md:gap-2 p-2">{{ form.media }} {{ form }}</div>
<div class="p-2">
<h3 class="class bg-gray-200 text-lg text-emerald-600 xl:text-xl 2xl:text-2xl font-bold mb-2 p-2 rounded-lg">SEO Details</h3>
<div class="grid md:grid-cols-2 gap-4 md:gap-2 p-2">
    <div class="flex w-full flex-col sm:items-center sm:flex-row gap-2">
        <label for="seo_title" class="font-bold text-sm max-w-28 min-w-28">Title</label>
        <input type="text" id="seo_title" name="seo_title" placeholder="seo og title" value="{{ seo_context.seo_title }}" class="w-full border border-gray-200 focus:border-green-600 outline-none py-1 px-2 rounded transition duration-300" required />
    </div>
    <div class="flex w-full flex-col sm:items-center sm:flex-row gap-2">
        <label for="permalink" class="font-bold text-sm max-w-28 min-w-28">Permalink</label>
        <input type="text" id="permalink" name="permalink" placeholder="permalink" value="{{ seo_context.permalink }}" class="w-full border border-gray-200 focus:border-green-600 outline-none py-1 px-2 rounded transition duration-300" required />
    </div>
    <div class="flex w-full flex-col sm:items-center sm:flex-row gap-2">
        <label for="seo_keywords" class="font-bold text-sm max-w-28 min-w-28">Keywords</label>
        <input type="text" id="seo_keywords" name="seo_keywords" placeholder="seo keywords" value="{{ seo_context.seo_keywords }}" class="w-full border border-gray-200 focus:border-green-600 outline-none py-1 px-2 rounded transition duration-300" required />
    </div>
    <div class="flex w-full flex-col sm:items-center sm:flex-row gap-2">
        <label for="seo_description" class="font-bold text-sm max-w-28 min-w-28">Description</label>
        <textarea id="seo_description" name="seo_description" placeholder="seo og description" class="w-full h-28 border border-gray-200 focus:border-green-600 outline-none py-1 px-2 rounded transition duration-300 resize-none" required>{{ seo_context.seo_description }}</textarea>
    </div>
</div>
</div>
</div>
</form>
{% if normal_details %}
<div class="p-2 bg-gray-100 rounded-br rounded-bl">
<h3 class="class bg-gray-200 text-lg text-emerald-600 xl:text-xl 2xl:text-2xl font-bold mb-2 p-2 rounded-lg">All FAQ's</h3>
<div class="grid md:grid-cols-2 gap-4 md:gap-2 p-2">
    {% for faq in allFaqs %}
    <form action="/author/drugs/faqs/edit/{{ faq.id }}/" method="post" class="flex w-full flex-col gap-2">
        {% csrf_token %}
        <input type="text" name="drug" value="{{ seo_context.permalink }}" style="display: none;" />
        <div class="flex flex-col gap-1">
            <div class="flex justify-between items-center gap-1">
                <label for="{{faq.id}}question" class="font-bold text-sm">Question</label>
                <div class="flex items-center gap-2"><button class="w-fit text-gray-200 bg-gray-800 hover:bg-gray-700 text-sm transition duration-300 p-1 rounded">Save Changes</button></div>
            </div>
            <input type="text" id="{{faq.id}}question" name="question" placeholder="question" value="{{ faq.question }}" class="w-full border border-gray-200 focus:border-green-600 outline-none py-1 px-2 rounded transition duration-300" required />
        </div>
        <div>
            <label for="{{faq.id}}answer" class="font-bold text-sm">Answer</label>
            <textarea id="{{faq.id}}answer" name="answer" placeholder="answer" class="w-full h-40 border border-gray-200 focus:border-green-600 outline-none py-1 px-2 rounded transition duration-300 resize-none" required>{{ faq.answer }}</textarea>
        </div>
    </form>
    {% endfor %}
    {% if allFaqs|length < 5 %}
    <form action="/author/drugs/faqs/add/" method="post" class="flex w-full col-span-2 flex-col gap-2 mt-5">
        {% csrf_token %}
        <input type="text" name="drug" value="{{ seo_context.permalink }}" style="display: none;" />
        <div class="flex flex-col gap-1">
            <div class="flex justify-between items-center gap-1">
                <p class="font-bold text-lg">Add new FAQ</p>
                <div class="flex items-center gap-2"><button class="w-fit text-gray-200 bg-gray-800 hover:bg-gray-700 text-sm transition duration-300 p-1 rounded">Save Changes</button></div>
            </div>
            <input type="text" id="question" name="question" placeholder="question" class="w-full border border-gray-200 focus:border-green-600 outline-none py-1 px-2 rounded transition duration-300" required />
        </div>
        <div>
            <label for="answer" class="font-bold text-sm">Answer</label>
            <textarea id="answer" name="answer" placeholder="answer" class="w-full h-40 border border-gray-200 focus:border-green-600 outline-none py-1 px-2 rounded transition duration-300 resize-none" required></textarea>
        </div>
    </form>
    {% endif %}
</div>
</div>
{% endif %}
{% endblock %}